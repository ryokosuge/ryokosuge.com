---
import { Post, FieldID } from "../types";
import Code from "./Code.astro";
import RichText from "./RichText.astro";

export interface Props {
  post: Post;
}

const {
  post: { sections },
} = Astro.props;
---

<article
  class="prose md:prose-lg prose-p:my-2 md:prose-p:my-2 prose-pre:my-2 md:prose-pre:my-3 mx-auto text-gray-900"
>
  {
    sections.map((section) =>
      section.fieldId === FieldID.POST_SECTION_CODE ? (
        <Code lang={section.lang[0]} code={section.code} />
      ) : (
        <RichText body={section.body} />
      )
    )
  }
</article>
